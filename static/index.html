<html>
    <head>
        <title>
            Quiz
        </title>
        <link href="https://fonts.googleapis.com/css2?family=Syne+Tactile&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            @font-face {
                font-family: 'Fredoka';
                src: URL('../fredoka.ttf') format('truetype');
            }

            body {
                margin: 0;
                padding: 0;
                background-color: black;

                color: white;
                font-family: 'Fredoka';
                font-size: 20px;

                text-align: center;
            }

            .container {
                background-color: #1c1d1f;
                max-width: 640px;
                margin: 0 auto;
                padding: 20px;
                min-height: calc(100vh - 40px);
            }

            #errormessage {
                padding: 1rem;
                background-color: orange;
            }

            #notification {
                padding: 1rem;
                background-color: white;
                color: black;
            }

            #solos, #teams > table {
                margin: auto;
                margin-bottom: 2rem;
            }

            ul {
                list-style: none;
                padding: 0;
                font-size: 20px;
            }
            
            li {
                display: inline;
            }

            li:not(:last-child) {
                margin-right: 10px;
            }

            .options {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 1fr 1fr;
                grid-column-gap: 20px;
                grid-row-gap: 20px;
                align-items: center;
                max-width: 640px;
                margin: 0 auto;
            }

            .option {
                padding: 10px;
                border: 2px solid white;
                border-radius: 15px;
            }

            #teamname {
                font-size: 30px;
            }

            .yellow {
                color: yellow;
            }
            
            .welcome {
                font-weight: 200;
            }

            .red {
                color: #ea3c3b;
            }

            .imagehint {
                width: 100%;
                margin-bottom: 15px;
            }

            #showpreimage {
                margin-bottom: 15px;
            }

            button {
                background-color: transparent;
                color: white;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                padding: 0.5rem;
                border: 1px solid white;
                border-radius: 0.5rem;
                position: relative;
                top: -5px;
                font-weight: bold;
                font-family: 'Fredoka';
                text-transform: uppercase;
            }

            button:hover:not(:disabled) {
                background-color: rgba(255, 255, 255, 0.15);
                cursor: pointer;
            }

            button:active {
                background-color: rgba(255, 255, 255, 0.05);
                top: -4px;
            }

            button:disabled {
                opacity: 0.5;
                text-decoration: line-through;
            }

            button.redalert {
                background-color: #ea3c3b;
            }
            button.redalert:hover:not(:disabled) {
                background-color: #e76b6b;
            }
            button.redalert:active:not(:disabled) {
                background-color: rgba(231, 107, 107, 0.05);
                top: -4px;
            }

            .emote {
                display: inline-flex;
                height: 3.5rem;
                width: 3.5rem;
                margin: auto;
                background-image: url('../images/emote-spritesheet.png');
                background-size: 25rem;
                /* For debugging */
                /* border: 2px solid; */
                /* border-radius: 500px; */
                /* background-color: white;    */
            }

            .emote.laugh {
                background-position: 198px 230px;
            }
            .emote.cry {
                background-position: 66px 230px;
            }
            .emote.shock {
                background-position: 132px 230px;
            }
            .emote.love {
                background-position: 264px 230px;
            }

            .styledtable {
                margin-left: auto;
                margin-right: auto;
            }
            .styledtable {
                border-collapse: collapse;
                margin: 25px 0;
                font-size: 1em;
                min-width: 400px;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                border-radius: 5px 5px 0 0;
                overflow: hidden;
            }
            .styledtable thead tr {
                background-color: #ea3c3b;
                color: #ffffff;
                text-align: left;
            }
            .styledtable th,
            .styledtable td {
                padding: 12px 15px;
            }
            .styledtable tbody tr {
                border-bottom: 1px solid #dddddd;
            }
            .styledtable tbody tr:nth-of-type(even) {
                background-color: #f3f3f327;
            }
            .styledtable tbody tr:last-of-type {
                border-bottom: 2px solid #ea3c3b;
            }
            .styledtable tbody tr.active-row {
                color: #009879;
            }
            .styledtable tr.eliminated {
                opacity: 0.5;
                text-decoration: line-through;
            }

            .teambutton, .leavebutton {
                top: 0px;
                width: 100%;
            }

            input[type=text] {
                background-color: transparent;
                color: white;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                padding: 0.5rem;
                border: 1px solid white;
                border-radius: 0.5rem;
                position: relative;
                top: -5px;
                font-family: 'Fredoka';
            }

            .inputgroup {
                display: grid;
                grid-template-columns: 5fr 1fr 5fr;
                grid-template-rows: 1fr;
                grid-column-gap: 20px;
                align-items: center;
                justify-items: center;
                max-width: 100%;
                margin: 0 auto;
            }

            #joinsolo, #ortext {
                position: relative;
                top: 16px;
            }

            #createteam {
                margin-top: 10px;
            }

            a {
                color: #ea3c3b;
            }
            a:hover, a:active {
                color: #e76b6b;
            }
        </style>
    </head>
    <body>
        <div id="containerino" class="container">
            <div id="errormessage"></div>
            <div id="notification"></div>
            <div id="pregame">
                <h1 class="welcome">Welcome to the <span class="red" id="quizname">Quiz</span></h1>
                <div id="pregamestatuswidget">
                    <span id="pregamestatuswidgetready"></span> as '<span id="pregamestatuswidgetname"></span>' in <span id="pregamestatuswidgetsolo">solo </span>team '<span id="pregamestatuswidgetteam"></span>'
                    <br/>
                    <br/>
                    <button id="pregamestatuswidgetleave">Leave team</button>
                    <button id="pregamestatuswidgetreadybutton"></button>
                </div>
                <h4 id="enternameprompt">Enter your player name</h4>
                <input type="text" placeholder="Player" maxlength="16" id="name" />
                <div id="inprogmessage">
                    <p>The quiz is already in progress.</p>
                    <p id="inprogjointeam">You can try joining a team below...</p>
                    <p id="inprognoteam">There are no teams available to join. Go to <a href="/spectate">spectate view</a></p>
                </div>
                <p style="margin-bottom: 0;" id="thentext">then</p>
                <div id="inputgroup" class="inputgroup">
                    <div class="ig">
                        <h4 id="enterteamnameprompt">enter a team name:</h4>
                        <input type="text" placeholder="Team" maxlength="16" id="team" />
                        <button id="createteam">Create Team</button>
                    </div>
                    <div class="ig">
                        <p id="ortext">or</p>
                    </div>
                    <div class="ig">
                        <button id="joinsolo">Play Solo</button>
                    </div>
                </div>
                <h3 id="teamstitle">Teams (<span id="teamcount"></span>)</h3>
                <div id="teams"></div>
                <h3 id="solostitle">Solo Players (<span id="soloplayercount"></span>)</h3>
                <table class="styledtable" id="solos"></table>
            </div>
            <div id="game" hidden>
                <div>
                    <h1 id="teamname"></h1>
                    <ul id="teammembers"></ul>
                </div>
                <div>
                    <h2>Question <span id="questionnumber"></span></h2>
                    <p id="questiontext"></p>
                    <button id="showpreimage">Show image</button>
                    <img src="" class="imagehint" id="preimage"/>
                </div>
                <div>
                    <h3>£<span id="remaining"></span> remaining</h3>
                    <button id="reset">Reset</button>
                    <button class="redalert" id="lockin">Lock In</button>
                    <br/><br/>
                </div>
                <div class="options">
                    <div class="option">
                        <p>A</p>
                        <p id="optiona"></p>
                        <p>£<span id="allocateda">0</span></p>
                        <button id="minusa">-</button>
                        <button id="adda">+</button>
                        <button id="addremaininga">Add Remaining</button>
                    </div>
                    <div class="option">
                        <p>B</p>
                        <p id="optionb"></p>
                        <p>£<span id="allocatedb">0</span></p>
                        <button id="minusb">-</button>
                        <button id="addb">+</button>
                        <button id="addremainingb">Add Remaining</button>
                    </div>
                    <div class="option">
                        <p>C</p>
                        <p id="optionc"></p>
                        <p>£<span id="allocatedc">0</span></p>
                        <button id="minusc">-</button>
                        <button id="addc">+</button>
                        <button id="addremainingc">Add Remaining</button>
                    </div>
                    <div class="option">
                        <p>D</p>
                        <p id="optiond"></p>
                        <p>£<span id="allocatedd">0</span></p>
                        <button id="minusd">-</button>
                        <button id="addd">+</button>
                        <button id="addremainingd">Add Remaining</button>
                    </div>
                </div>
                <p id="help"></p>
                <textarea readonly id="log" style="width: 100%;" rows="10"></textarea>
                <input type="text" id="chatmessage" placeholder="Type a message to your team..." /><button id="sendchatmessage">Send</button>
            </div>
            <div id="scores" hidden>
                <h2>Scores</h2>
                <table class="styledtable" id="scorestable"></table>
                <div class="reactions">
                    <button id="laugh"><span class="emote laugh"></span></button>
                    <button id="cry"><span class="emote cry"></span></button>
                    <button id="shock"><span class="emote shock"></span></button>
                    <button id="love"><span class="emote love"></span></button>
                </div>
            </div>
            <div id="answer" hidden>
                <h2>The answer was...</h2>
                <h2><span id="answertext"></span></h2>
                <img src="" class="imagehint" id="postimage"/>
                <p>Your team's remaining money: £<span id="remainingafter"></span></p>
                <div class="reactions">
                    <button id="laugh2"><span class="emote laugh"></span></button>
                    <button id="cry2"><span class="emote cry"></span></button>
                    <button id="shock2"><span class="emote shock"></span></button>
                    <button id="love2"><span class="emote love"></span></button>
                </div>
            </div>
            <div id="finish" hidden>
                <h2 id="winnertext"></h2>
                <div class="reactions">
                    <button id="laugh3">😆</button>
                    <button id="cry3">😭</button>
                    <button id="shock3">😲</button>
                    <button id="love3">😍</button>
                </div>
            </div>
        </div>
        <script type="module" src="./script.js"></script>
    </body>
</html>