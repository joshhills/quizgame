<html>
    <head>
        <!-- Primary Meta Tags -->
        <title>Wager Up</title>
        <meta name="title" content="Wager Up">
        <meta name="description" content="The interactive quiz game with a twist">

        <!-- PWA -->
        <link rel="apple-touch-icon" sizes="180x180" href="/quiz/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/quiz/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/quiz/images/favicon-16x16.png">
        <link rel="manifest" href="/quiz/images/site.webmanifest">
        <link rel="mask-icon" href="/quiz/images/safari-pinned-tab.svg" color="#753838">
        <link rel="shortcut icon" href="/quiz/images/favicon.ico">
        <meta name="msapplication-TileColor" content="#753838">
        <meta name="msapplication-config" content="/quiz/images/browserconfig.xml">
        <meta name="theme-color" content="#753838">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://joshhills.dev/quiz">
        <meta property="og:title" content="Wager Up">
        <meta property="og:description" content="The interactive quiz game with a twist">
        <meta property="og:image" content="https://joshhills.dev/quiz/images/wager-up-social.jpeg">

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://joshhills.dev/quiz">
        <meta property="twitter:title" content="Wager Up">
        <meta property="twitter:description" content="The interactive quiz game with a twist">
        <meta property="twitter:image" content="https://joshhills.dev/quiz/images/wager-up-social.jpeg">
        
        <meta name="viewport" content="width=400, initial-scale=0.86, maximum-scale=0.86, minimum-scale=0.86">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

        <!-- Preload emoji image -->
        <link rel="preload" as="image" href="./images/emote-spritesheet.png">

        <link rel="stylesheet" href="./vendor/awn/style.css"></link>
        <script src="./vendor/awn/index.var.js"></script>
        <style>
            @font-face {
                font-family: 'Varela';
                src: URL('./varela.ttf') format('truetype');
            }

            [hidden]{
               display: none !important;
            }

            body {
                margin: 0;
                padding: 0;
                background: rgb(117,56,56);
                background: radial-gradient(circle at bottom, rgba(117,56,56,1) 0%, rgba(66,48,48,1) 33%, rgba(28,29,31,1) 70%);

                color: white;
                font-family: 'Varela';
                font-size: 20px;

                text-align: center;
            }

            img {
                max-width: 100%;
            }

            img.logo {
                max-width: 90%;
                margin: auto;
            }

            .container {
                background-color: #ffffff05;
                backdrop-filter: blur(5px);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                max-width: 640px;
                margin: 0 auto;
                padding: 20px;
                min-height: calc(100vh - 40px);
                position: relative;
            }

            ul {
                list-style: none;
                padding: 0;
                font-size: 20px;
            }
            
            li {
                display: inline;
            }

            li:not(:last-child) {
                margin-right: 10px;
            }

            .options {
                display: grid;
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 1fr 1fr;
                grid-column-gap: 20px;
                grid-row-gap: 20px;
                align-items: center;
                max-width: 640px;
                margin: 0 auto;
            }

            .option {
                padding: 10px;
                border: 2px solid white;
                height: calc(100% - 20px);
                display: flex;
                flex-direction: column;
            }

            .optioncontrols {
                margin-top: auto;
            }

            .option:nth-child(1) {
                border-top: none;
                border-left: none;
                border-bottom-right-radius: 15px;
            }
            .option:nth-child(2) {
                border-top: none;
                border-right: none;
                border-bottom-left-radius: 15px;
            }
            .option:nth-child(3) {
                border-bottom: none;
                border-left: none;
                border-top-right-radius: 15px;
            }
            .option:nth-child(4) {
                border-bottom: none;
                border-right: none;
                border-top-left-radius: 15px;
            }

            /* #teamname {
                font-size: 24px;
            } */

            .yellow {
                color: yellow;
            }
            
            .welcome {
                font-weight: 200;
            }

            .imagehint {
                width: 100%;
                margin-bottom: 15px;
            }

            #showpreimage {
                margin-bottom: 15px;
            }

            button {
                background-color: transparent;
                color: white;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                padding: 0.5rem;
                border: 1px solid white;
                border-radius: 0.5rem;
                position: relative;
                top: -5px;
                font-weight: bold;
                font-family: 'Varela';
                text-transform: uppercase;
            }

            button:hover:not(:disabled) {
                background-color: rgba(255, 255, 255, 0.15);
                cursor: pointer;
            }

            button:active:not(:disabled) {
                background-color: rgba(255, 255, 255, 0.05);
                top: -4px;
            }

            button:disabled {
                opacity: 0.5;
            }

            button.redalert {
                background-color: #ea3c3b;
            }
            button.redalert:hover:not(:disabled) {
                background-color: #e76b6b;
            }
            button.redalert:active:not(:disabled) {
                background-color: rgba(231, 107, 107, 0.05);
                top: -4px;
            }

            .emote {
                display: inline-flex;
                height: 3.5rem;
                width: 3.5rem;
                margin: auto;
                background-image: url('./images/emote-spritesheet.png');
                background-size: 25rem;
                /* For debugging */
                /* border: 2px solid; */
                /* border-radius: 500px; */
                /* background-color: white;    */
            }

            .emote.laugh {
                background-position: 198px 230px;
            }
            .emote.cry {
                background-position: 66px 230px;
            }
            .emote.shock {
                background-position: 132px 230px;
            }
            .emote.love {
                background-position: 264px 230px;
            }

            .styledtable {
                border-collapse: collapse;
                margin-left: auto;
                margin-right: auto;
                margin-bottom: 2rem;
                font-size: 1em;
                min-width: 400px;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                border-radius: 5px 5px 0 0;
                overflow: hidden;
            }
            .styledtable thead tr {
                background-color: #ea3c3b;
                color: #ffffff;
                text-align: left;
            }
            .styledtable th,
            .styledtable td {
                padding: 12px 15px;
            }
            .styledtable tbody tr {
                border-bottom: 1px solid #dddddd;
            }
            .styledtable tbody tr:nth-of-type(even) {
                background-color: #f3f3f327;
            }
            .styledtable tbody tr:last-of-type {
                border-bottom: 2px solid #ea3c3b;
            }
            .styledtable tbody tr.active-row {
                color: #009879;
            }
            .styledtable tr.eliminated {
                opacity: 0.5;
                /* text-decoration: line-through; */
            }

            .teambutton, .leavebutton {
                top: 0px;
                width: 100%;
            }

            .teambutton:active:not(:disabled), .leavebutton:active:not(:disabled) {
                top: 1px;
            }

            input[type=text] {
                background-color: transparent;
                color: white;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
                padding: 0.5rem;
                border: 1px solid white;
                border-radius: 0.5rem;
                position: relative;
                top: -5px;
                font-family: 'Varela';
                font-size: 1rem;
            }

            .inputgroup {
                display: grid;
                grid-template-columns: 5fr 1fr 5fr;
                grid-template-rows: 1fr;
                grid-column-gap: 20px;
                align-items: center;
                justify-items: center;
                max-width: 100%;
                margin: 0 auto;
            }

            #joinsolo, #ortext {
                position: relative;
                top: 16px;
            }

            #createteam {
                margin-top: 10px;
            }

            .chatinputs {
                display: flex;
                flex-direction: row;
                margin-top: 1rem;
            }

            #chatmessage {
                margin-right: 0.5rem;
                width: 100%;
            }

            a {
                color: #ea3c3b;
            }
            a:hover, a:active {
                color: #e76b6b;
            }

            .option.wrong:nth-child(1) {
                background: rgb(28,29,31);
                background: linear-gradient(135deg, rgba(28,29,31,0) 7%, rgba(234,60,59,1) 90%);
            }
            .option.wrong:nth-child(2) {
                background: rgb(28,29,31);
                background: linear-gradient(225deg, rgba(28,29,31,0) 7%, rgba(234,60,59,1) 90%);
            }
            .option.wrong:nth-child(3) {
                background: rgb(28,29,31);
                background: linear-gradient(45deg, rgba(28,29,31,0) 7%, rgba(234,60,59,1) 90%);
            }
            .option.wrong:nth-child(4) {
                background: rgb(28,29,31);
                background: linear-gradient(315deg, rgba(28,29,31,0) 7%, rgba(234,60,59,1) 90%);
            }

            .optiontext {
                margin-bottom: 0;
            }

            .allocation {
                margin-bottom: 0;
            }
            .moneycontrol {
                margin-top: 1.5rem;
                margin-bottom: 1rem;
            }
            #timer {
                width: 100%;
                position: absolute;
                height: 4px;
                top: 0;
                left: 0;
            }
            #timerbar {
                width: 0%;
                height: 100%;
                background-color: #009879;
                transition: width 0.1s;
            }

            .green {
                color: #009879;
            }
            .red {
                color: #ea3c3b;
            }

            #scorestable i:not(:last-child) {
                margin-right: 4px;
            }

            #scorestable tbody tr td:first-child {
                text-align: right;
            }
            #achievements {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: 1rem;
            }
            #achievements div {
                text-align: center;
                /* padding: 1rem; */
                flex: 1;
                margin: 20px;
            }
            #achievements img {
                max-width: 256px;
                max-height: 2560px;
                margin-right: auto;
                margin-left: auto;
                /* width: 100%; */
                /* margin: 1rem; */
            }
            #log {
                width: calc(100% - 1rem);
                text-align: left;
                background-color: white;
                color: black;
                border-radius: 0.5rem;
                height: 216px;
                padding: 0.5rem;
                overflow: auto;
                display: flex;
                flex-direction: column-reverse;
            }

            .logmessage {
                margin: 0.25rem;
                display: inline-block;
                font-size: 1rem;
                word-break: break-all;
            }
            .loghint {
                margin: 0.25rem;
                color: grey;
                display: inline-block;
                font-size: 1rem;
            }
            .logmessagesubject {
                font-weight: bold;
                color: #ea3c3b;
            }
            .logmessage.add,
            .logmessage.minus,
            .logmessage.reset,
            .logmessage.hint,
            .logmessage.join {
                color: grey;
            }
            .logmessage.lock {
                color: red;
            }
            .awn-toast-wrapper {
                text-align: left;
            }
            .awn-toast-icon {
                font-size: 1.75rem;
            }
            .awn-popup-body {
                color: black;
            }
            #awn-popup-wrapper {
                overflow: auto;
            }
            .awn-btn-success {
                background: #009879 !important;
            }
            .awn-btn-cancel {
                background: #ea3c3b !important;
            }
            #loader {
                position: absolute;
                top: 0;
                left: 0;
                background-color: #222;
                color: white;
                padding-top: 10rem;
                text-align: center;
                width: 100%;
                height: 100%;
                z-index: 10;
            }
        </style>
    </head>
    <body>
        <div id="loader">
            <p>Loading...</p>
        </div>
        <div id="containerino" class="container">
            <div id="timer">
                <div id="timerbar" hidden></div>
            </div>
            <div id="pregame">
                <img src="./images/logo.png" class="logo" alt="Wager Up logo" />
                <h1 class="welcome"><span class="red" id="quizname">Loading quiz...</span></h1>
                <div id="pregamestatuswidget">
                    <span id="pregamestatuswidgetready"></span> as '<span id="pregamestatuswidgetname"></span>' in <span id="pregamestatuswidgetsolo">solo </span>team '<span id="pregamestatuswidgetteam"></span>'
                    <br/>
                    <br/>
                    <button id="pregamestatuswidgetleave"><i class="bi bi-box-arrow-left"></i> Leave team</button>
                    <button id="pregamestatuswidgetreadybutton"></button>
                    <button id="helpbutton"><i class="bi bi-question-circle"></i> Help</button>
                </div>
                <h4 id="enternameprompt">Enter your player name</h4>
                <input type="text" placeholder="Player" maxlength="16" id="name" />
                <div id="inprogmessage">
                    <p>The quiz is already in progress.</p>
                    <p id="inprogjointeam">You can try joining a team below...</p>
                    <p id="inprognoteam">There are no teams available to join. Go to <a href="/quiz/spectate">spectate view</a></p>
                </div>
                <p style="margin-bottom: 0;" id="thentext">then</p>
                <div id="inputgroup" class="inputgroup">
                    <div class="ig">
                        <h4 id="enterteamnameprompt">enter a team name</h4>
                        <input type="text" placeholder="Team" maxlength="16" id="team" />
                        <button id="createteam" disabled><i class="bi bi-people"></i> Create Team</button>
                    </div>
                    <div class="ig">
                        <p id="ortext">or</p>
                    </div>
                    <div class="ig">
                        <button id="joinsolo" disabled><i class="bi bi-person"></i> Play Solo</button>
                    </div>
                </div>
                <h3 id="teamstitle">Teams (<span id="teamcount"></span>)</h3>
                <div id="teams"></div>
                <h3 id="solostitle">Solo Players (<span id="soloplayercount"></span>)</h3>
                <table class="styledtable" id="solos"></table>
            </div>
            <div id="game" hidden>
                <!-- <div>
                    <h1 id="teamname"></h1>
                    <ul id="teammembers"></ul>
                </div> -->
                <div>
                    <h3 class="red">Question <span id="questionnumber"></span></h3>
                    <p id="questiontext"></p>
                    <button id="showpreimage"><i class="bi bi-image"></i> Show image</button>
                    <img src="" class="imagehint" id="preimage"/>
                </div>
                <div>
                    <h4><span id="remaining"></span> remaining</h4>
                </div>
                <div class="options">
                    <div class="option" id="optionabox">
                        <!-- <p>A</p> -->
                        <p class="optiontext" id="optiona"></p>
                        <div class="optioncontrols">
                            <p class="allocation"><span id="allocateda">0</span></p>
                            <button class="moneycontrol" id="removealla"><i class="bi bi-chevron-double-down"></i></button>
                            <button class="moneycontrol" id="minusa"><i class="bi bi-chevron-down"></i></button>
                            <button class="moneycontrol" id="adda"><i class="bi bi-chevron-up"></i></button>
                            <button class="moneycontrol" id="addremaininga"><i class="bi bi-chevron-double-up"></i></button>
                        </div>
                    </div>
                    <div class="option" id="optionbbox">
                        <!-- <p>B</p> -->
                        <p class="optiontext" id="optionb"></p>
                        <div class="optioncontrols">
                            <p class="allocation"><span id="allocatedb">0</span></p>
                            <button class="moneycontrol" id="removeallb"><i class="bi bi-chevron-double-down"></i></button>
                            <button class="moneycontrol" id="minusb"><i class="bi bi-chevron-down"></i></button>
                            <button class="moneycontrol" id="addb"><i class="bi bi-chevron-up"></i></button>
                            <button class="moneycontrol" id="addremainingb"><i class="bi bi-chevron-double-up"></i></button>
                        </div>
                    </div>
                    <div class="option" id="optioncbox">
                        <!-- <p>C</p> -->
                        <p class="optiontext" id="optionc"></p>
                        <div class="optioncontrols">
                            <p class="allocation"><span id="allocatedc">0</span></p>
                            <button class="moneycontrol" id="removeallc"><i class="bi bi-chevron-double-down"></i></button>
                            <button class="moneycontrol" id="minusc"><i class="bi bi-chevron-down"></i></button>
                            <button class="moneycontrol" id="addc"><i class="bi bi-chevron-up"></i></button>
                            <button class="moneycontrol" id="addremainingc"><i class="bi bi-chevron-double-up"></i></button>
                        </div>
                    </div>
                    <div class="option" id="optiondbox">
                        <!-- <p>D</p> -->
                        <p class="optiontext" id="optiond"></p>
                        <div class="optioncontrols">
                            <p class="allocation"><span id="allocatedd">0</span></p>
                            <button class="moneycontrol" id="removealld"><i class="bi bi-chevron-double-down"></i></button>
                            <button class="moneycontrol" id="minusd"><i class="bi bi-chevron-down"></i></button>
                            <button class="moneycontrol" id="addd"><i class="bi bi-chevron-up"></i></button>
                            <button class="moneycontrol" id="addremainingd"><i class="bi bi-chevron-double-up"></i></button>
                        </div>
                    </div>
                </div>
                <div>
                    <br/>
                    <button id="reset"><i class="bi bi-arrow-clockwise"></i> Reset</button>
                    <button id="usehint"><i class="bi bi-lightbulb"></i> Use Hint (<span id="numhintsremaining">0</span>)</button>
                    <button class="redalert" id="lockin"><i class="bi bi-lightning-charge"></i> Lock In</button>
                    <button id="infomodalopen"><i class="bi bi-question-circle"></i> Help</button>
                    <br/><br/>
                </div>
                <div id="log">
                    <div id="loghint" class="loghint">Chat messages will appear here...</div>
                </div>
                <div class="chatinputs">
                    <input type="text" id="chatmessage" placeholder="Type a message..." maxlength="256" />
                    <button id="sendchatmessage" disabled>Send</button>
                </div>
                <p id="help"></p>
            </div>
            <div id="scores" hidden>
                <h2>Scores</h2>
                <table class="styledtable" id="scorestable"></table>
                <div class="reactions">
                    <button id="laugh"><span class="emote laugh"></span></button>
                    <button id="cry"><span class="emote cry"></span></button>
                    <button id="shock"><span class="emote shock"></span></button>
                    <button id="love"><span class="emote love"></span></button>
                </div>
            </div>
            <div id="answer" hidden>
                <h2>The answer was...</h2>
                <h2><span id="answertext"></span></h2>
                <img src="" class="imagehint" id="postimage"/>
                <p><span id="remainingbreakdown"></span></p>
                <p>Your new score is <span id="remainingafter"></span></p>
                <div class="reactions">
                    <button id="laugh2"><span class="emote laugh"></span></button>
                    <button id="cry2"><span class="emote cry"></span></button>
                    <button id="shock2"><span class="emote shock"></span></button>
                    <button id="love2"><span class="emote love"></span></button>
                </div>
            </div>
            <div id="finish" hidden>
                <h2 id="winnertext"></h2>
                <div id="achievements"></div>
                <div class="reactions">
                    <button id="laugh3"><span class="emote laugh"></span></button>
                    <button id="cry3"><span class="emote cry"></span></button>
                    <button id="shock3"><span class="emote shock"></span></button>
                    <button id="love3"><span class="emote love"></span></button>
                </div>
            </div>
        </div>
        <script type="module" src="./script.js"></script>
    </body>
</html>